import { Queue } from 'bull';
import { PrismaService } from '../../prisma/prisma.service';
import { PaymentsService } from '../payments/payments.service';
import { MessagesService } from '../messages/messages.service';
export declare class BookingsService {
    private prisma;
    private bookingQueue;
    private paymentsService;
    private messagesService;
    private readonly logger;
    private readonly STUDIO_TZ;
    getPackages(type?: string): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        price: number;
        deposit: number;
        duration: string;
        images: number;
        makeup: boolean;
        outfits: number;
        styling: boolean;
        photobook: boolean;
        photobookSize: string | null;
        mount: boolean;
        balloonBackdrop: boolean;
        wig: boolean;
        notes: string | null;
    }[]>;
    completeBookingDraft(customerId: string, providedDateTime?: Date): Promise<{
        message: string;
        checkoutRequestId: string;
    }>;
    getPackageById(id: string): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        price: number;
        deposit: number;
        duration: string;
        images: number;
        makeup: boolean;
        outfits: number;
        styling: boolean;
        photobook: boolean;
        photobookSize: string | null;
        mount: boolean;
        balloonBackdrop: boolean;
        wig: boolean;
        notes: string | null;
    }>;
    getStudioInfo(): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        notes: string;
        location: string;
    }>;
    constructor(prisma: PrismaService, bookingQueue: Queue, paymentsService: PaymentsService, messagesService: MessagesService);
    private getSlotInterval;
    private intervalsOverlap;
    private formatBookingConflictMessage;
    private formatNoDateMessage;
    private formatDraftIncompleteMessage;
    getBookingDraft(customerId: string): Promise<{
        id: string;
        customerId: string;
        service: string | null;
        date: string | null;
        time: string | null;
        dateTimeIso: string | null;
        name: string | null;
        recipientName: string | null;
        recipientPhone: string | null;
        isForSomeoneElse: boolean | null;
        step: string;
        version: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    getDepositForDraft(customerId: string): Promise<number>;
    createBookingDraft(customerId: string): Promise<{
        id: string;
        customerId: string;
        service: string | null;
        date: string | null;
        time: string | null;
        dateTimeIso: string | null;
        name: string | null;
        recipientName: string | null;
        recipientPhone: string | null;
        isForSomeoneElse: boolean | null;
        step: string;
        version: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    updateBookingDraft(customerId: string, updates: Partial<any>): Promise<{
        id: string;
        customerId: string;
        service: string | null;
        date: string | null;
        time: string | null;
        dateTimeIso: string | null;
        name: string | null;
        recipientName: string | null;
        recipientPhone: string | null;
        isForSomeoneElse: boolean | null;
        step: string;
        version: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    deleteBookingDraft(customerId: string): Promise<{
        id: string;
        customerId: string;
        service: string | null;
        date: string | null;
        time: string | null;
        dateTimeIso: string | null;
        name: string | null;
        recipientName: string | null;
        recipientPhone: string | null;
        isForSomeoneElse: boolean | null;
        step: string;
        version: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    createBooking(customerId: string, opts: {
        message?: string;
        dateTime?: Date;
        service?: string;
        customerName?: string;
        recipientName?: string;
        recipientPhone?: string;
    }): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
    createBookingFromMessage(message: any): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
    checkAvailability(requested: Date, service?: string): Promise<{
        available: boolean;
        suggestions?: string[];
    }>;
    getAvailableSlotsForDate(date: string, service?: string): Promise<string[]>;
    updateBooking(bookingId: string, updates: {
        service?: string;
        dateTime?: Date;
    }): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
    confirmBooking(bookingId: string): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
    cancelBooking(bookingId: string): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
    getBookings(customerId?: string): Promise<{
        bookings: ({
            customer: {
                id: string;
                name: string;
                createdAt: Date;
                updatedAt: Date;
                phone: string | null;
                email: string | null;
                whatsappId: string | null;
                instagramId: string | null;
                messengerId: string | null;
                aiEnabled: boolean;
            };
        } & {
            id: string;
            customerId: string;
            service: string;
            recipientName: string | null;
            recipientPhone: string | null;
            createdAt: Date;
            updatedAt: Date;
            status: string;
            dateTime: Date;
            durationMinutes: number | null;
            googleEventId: string | null;
        })[];
        total: number;
    }>;
    createPackage(data: any): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        price: number;
        deposit: number;
        duration: string;
        images: number;
        makeup: boolean;
        outfits: number;
        styling: boolean;
        photobook: boolean;
        photobookSize: string | null;
        mount: boolean;
        balloonBackdrop: boolean;
        wig: boolean;
        notes: string | null;
    }>;
    updatePackage(id: string, data: any): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        price: number;
        deposit: number;
        duration: string;
        images: number;
        makeup: boolean;
        outfits: number;
        styling: boolean;
        photobook: boolean;
        photobookSize: string | null;
        mount: boolean;
        balloonBackdrop: boolean;
        wig: boolean;
        notes: string | null;
    }>;
    deletePackage(id: string): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        type: string;
        price: number;
        deposit: number;
        duration: string;
        images: number;
        makeup: boolean;
        outfits: number;
        styling: boolean;
        photobook: boolean;
        photobookSize: string | null;
        mount: boolean;
        balloonBackdrop: boolean;
        wig: boolean;
        notes: string | null;
    }>;
    getLatestConfirmedBooking(customerId: string): Promise<{
        id: string;
        customerId: string;
        service: string;
        recipientName: string | null;
        recipientPhone: string | null;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        dateTime: Date;
        durationMinutes: number | null;
        googleEventId: string | null;
    }>;
}
