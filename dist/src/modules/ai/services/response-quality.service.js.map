{"version":3,"file":"response-quality.service.js","sourceRoot":"","sources":["../../../../../src/modules/ai/services/response-quality.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;AACA,2CAAoD;AACpD,2CAA+C;AAC/C,mCAA4B;AAC5B,mEAA+D;AAqBxD,IAAM,sBAAsB,8BAA5B,MAAM,sBAAsB;IAc/B,YACY,aAA4B,EAC5B,MAAqB;QADrB,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAe;QAfhB,WAAM,GAAG,IAAI,eAAM,CAAC,wBAAsB,CAAC,IAAI,CAAC,CAAC;QAIjD,oBAAe,GAAG,CAAC,CAAC;QACpB,iBAAY,GAAG,CAAC,CAAC;QACjB,gBAAW,GAAG,CAAC,CAAC;QAChB,gBAAW,GAAG,CAAC,CAAC;QAChB,gBAAW,GAAG,CAAC,CAAC;QAGhB,yBAAoB,GAAG,CAAC,CAAC;QAMtC,IAAI,CAAC,MAAM,GAAG,IAAI,gBAAM,CAAC;YACrB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAS,gBAAgB,CAAC;SAC3D,CAAC,CAAC;IACP,CAAC;IAKD,KAAK,CAAC,gBAAgB,CAClB,QAAgB,EAChB,OAMC;QAED,IAAI,CAAC;YAED,MAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YACvD,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;gBAC1B,OAAO;oBACH,MAAM,EAAE,KAAK;oBACb,KAAK,EAAE;wBACH,WAAW,EAAE,CAAC;wBACd,QAAQ,EAAE,CAAC;wBACX,OAAO,EAAE,CAAC;wBACV,OAAO,EAAE,CAAC;wBACV,OAAO,EAAE,CAAC;wBACV,MAAM,EAAE,eAAe,CAAC,MAAM;wBAC9B,eAAe,EAAE,eAAe,CAAC,eAAe;qBACnD;oBACD,cAAc,EAAE,KAAK;oBACrB,MAAM,EAAE,eAAe,CAAC,MAAM;iBACjC,CAAC;YACN,CAAC;YAGD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAG1D,MAAM,MAAM,GACR,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,eAAe;gBACzC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY;gBACnC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW;gBACjC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW;gBACjC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,CAAC;YAGtC,MAAM,cAAc,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC;YAGjE,IAAI,gBAAoC,CAAC;YACzC,IAAI,CAAC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;gBAC7B,gBAAgB,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YAC5E,CAAC;YAGD,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YAExE,OAAO;gBACH,MAAM;gBACN,KAAK;gBACL,gBAAgB;gBAChB,cAAc;gBACd,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS;aAClE,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC;YAE9D,OAAO;gBACH,MAAM,EAAE,IAAI;gBACZ,KAAK,EAAE;oBACH,WAAW,EAAE,CAAC;oBACd,QAAQ,EAAE,CAAC;oBACX,OAAO,EAAE,CAAC;oBACV,OAAO,EAAE,CAAC;oBACV,OAAO,EAAE,CAAC;oBACV,MAAM,EAAE,CAAC,sBAAsB,CAAC;oBAChC,eAAe,EAAE,EAAE;iBACtB;gBACD,cAAc,EAAE,KAAK;aACxB,CAAC;QACN,CAAC;IACL,CAAC;IAKO,eAAe,CAAC,QAAgB;QAMpC,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,MAAM,eAAe,GAAa,EAAE,CAAC;QAGrC,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAClC,eAAe,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;YAC1D,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,oBAAoB,EAAE,CAAC;QACpF,CAAC;QAED,IAAI,QAAQ,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC;YACzB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACjC,eAAe,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;QACvD,CAAC;QAGD,IAAI,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;YAC9D,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;YAC9C,eAAe,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;QAC/D,CAAC;QAGD,MAAM,mBAAmB,GAAG;YACxB,0BAA0B;YAC1B,sBAAsB;YACtB,SAAS;YACT,UAAU;SACb,CAAC;QAEF,IAAI,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC;YACtF,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;YACtC,eAAe,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;YACnD,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,wBAAwB,EAAE,CAAC;QACxF,CAAC;QAED,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC;IACrD,CAAC;IAKO,KAAK,CAAC,aAAa,CACvB,QAAgB,EAChB,OAIC;QAED,MAAM,YAAY,GAAG;;;;;;;;mBAQV,OAAO,CAAC,WAAW;YAC1B,OAAO,CAAC,MAAM,IAAI,SAAS;oBACnB,OAAO,CAAC,aAAa,IAAI,SAAS;;;;;;;;;;EAUpD,CAAC;QAEK,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACzD,KAAK,EAAE,aAAa;gBACpB,QAAQ,EAAE;oBACN,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE;oBACzC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,+BAA+B,QAAQ,EAAE,EAAE;iBACvE;gBACD,eAAe,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE;gBACxC,WAAW,EAAE,GAAG;aACnB,CAAC,CAAC;YAEH,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC;YAEzE,MAAM,KAAK,GAAiB;gBACxB,WAAW,EAAE,MAAM,CAAC,WAAW,IAAI,CAAC;gBACpC,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,CAAC;gBAC9B,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,CAAC;gBAC5B,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,CAAC;gBAC5B,OAAO,EAAE,CAAC;gBACV,MAAM,EAAE,MAAM,CAAC,MAAM,IAAI,EAAE;gBAC3B,eAAe,EAAE,MAAM,CAAC,eAAe,IAAI,EAAE;aAChD,CAAC;YAGF,KAAK,CAAC,OAAO,GAAG,CACZ,KAAK,CAAC,WAAW;gBACjB,KAAK,CAAC,QAAQ;gBACd,KAAK,CAAC,OAAO;gBACb,KAAK,CAAC,OAAO,CAChB,GAAG,CAAC,CAAC;YAEN,OAAO,KAAK,CAAC;QACjB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;YAEnD,OAAO;gBACH,WAAW,EAAE,CAAC;gBACd,QAAQ,EAAE,CAAC;gBACX,OAAO,EAAE,CAAC;gBACV,OAAO,EAAE,CAAC;gBACV,OAAO,EAAE,CAAC;gBACV,MAAM,EAAE,CAAC,gBAAgB,CAAC;gBAC1B,eAAe,EAAE,EAAE;aACtB,CAAC;QACN,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,eAAe,CACzB,gBAAwB,EACxB,OAIC,EACD,KAAmB;QAEnB,MAAM,iBAAiB,GAAG;iBACjB,KAAK,CAAC,WAAW;cACpB,KAAK,CAAC,QAAQ;aACf,KAAK,CAAC,OAAO;aACb,KAAK,CAAC,OAAO;;qBAEL,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;mBACzB,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;;;EAGjD,gBAAgB;;iBAED,OAAO,CAAC,WAAW;UAC1B,OAAO,CAAC,MAAM,IAAI,SAAS;kBACnB,OAAO,CAAC,aAAa,IAAI,SAAS;;oKAEgH,CAAC;QAE7J,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACzD,KAAK,EAAE,aAAa;gBACpB,QAAQ,EAAE;oBACN,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,iMAAiM,EAAE;oBAC9N,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE;iBAC/C;gBACD,WAAW,EAAE,GAAG;aACnB,CAAC,CAAC;YAEH,IAAI,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,gBAAgB,CAAC;YAGjF,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;YAGhD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAClE,IAAI,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sBAAsB,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACxG,OAAO,QAAQ,CAAC;YACpB,CAAC;YAGD,OAAO,gBAAgB,CAAC;QAC5B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;YACrD,OAAO,gBAAgB,CAAC;QAC5B,CAAC;IACL,CAAC;IAKO,qBAAqB,CAAC,QAAgB;QAE1C,MAAM,gBAAgB,GAAG;YACrB,yBAAyB;YACzB,gBAAgB;YAChB,oCAAoC;YACpC,wBAAwB;YACxB,uBAAuB;SAC1B,CAAC;QAEF,IAAI,OAAO,GAAG,QAAQ,CAAC;QACvB,KAAK,MAAM,MAAM,IAAI,gBAAgB,EAAE,CAAC;YACpC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QAC1C,CAAC;QAED,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAKO,qBAAqB,CAAC,KAAmB;QAC7C,MAAM,OAAO,GAAa,EAAE,CAAC;QAE7B,IAAI,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YAC3C,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YACrC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QACtC,CAAC;QACD,IAAI,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YACnC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAClC,CAAC;QACD,IAAI,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YACnC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,CAAC;QAED,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC;YACrB,CAAC,CAAC,yBAAyB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAC/C,CAAC,CAAC,sBAAsB,CAAC;IACjC,CAAC;IAKO,KAAK,CAAC,eAAe,CACzB,UAAkB,EAClB,QAAgB,EAChB,KAAmB,EACnB,MAAe;QAEf,IAAI,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,2BAA2B,UAAU,IAAI;gBACzC,UAAU,MAAM,aAAa,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI;gBACzD,eAAe,KAAK,CAAC,WAAW,cAAc,KAAK,CAAC,QAAQ,EAAE,CACjE,CAAC;QAIN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC;QAY1B,OAAO;YACH,WAAW,EAAE,CAAC;YACd,MAAM,EAAE,CAAC;YACT,MAAM,EAAE,CAAC;YACT,QAAQ,EAAE,CAAC;YACX,cAAc,EAAE,CAAC;YACjB,WAAW,EAAE,CAAC;YACd,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;SAChB,CAAC;IACN,CAAC;CACJ,CAAA;AApYY,wDAAsB;iCAAtB,sBAAsB;IADlC,IAAA,mBAAU,GAAE;qCAgBkB,sBAAa;QACpB,8BAAa;GAhBxB,sBAAsB,CAoYlC"}